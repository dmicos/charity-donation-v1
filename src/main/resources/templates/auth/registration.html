<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">
<head th:replace="fragments/head :: head(~{::title},~{})">
    <title>Register</title>
</head>

<body>
<nav th:replace="fragments/navbar::navbar"></nav>

<main class="page registration-page">
    <section class="clean-block clean-form dark">
        <div class="container">

            <div class="block-heading">
                <h2 class="text-info" th:text="#{NavBar.register}">Registration</h2>
                <p>Zarejestruj się do serwisu, aby zacząć udostępniać różne rzeczy</p>
            </div>

            <form th:action="@{/registration}" th:object="${user}" th:method="POST">
                <div th:if="${param.success}">
                    <div class="alert alert-success text-center" th:text="#{registration.success.checkMail}"></div>
                </div>
                <div class="form-group">
                    <label th:for="firstname" th:text="#{registration.lable.firstname}">First Name</label>
                    <input class="form-control item"
                           th:field="*{firstName}"
                           th:classappend="${not #lists.isEmpty(#fields.errors('firstName'))} ? 'is-invalid'" required>
                    <div class="invalid-feedback">
                        <p th:each="error: ${#fields.errors('firstName')}" th:text="${error}">Invalid data</p>
                    </div>
                </div>
                <div class="form-group">
                    <label th:for="lastName" th:text="#{registration.lable.lastname}">Last name</label>
                    <input class="form-control item"
                           th:field="*{lastName}"
                           th:classappend="${not #lists.isEmpty(#fields.errors('lastName'))} ? 'is-invalid'" required>
                    <div class="invalid-feedback">
                        <p th:each="error : ${#fields.errors('lastName')}" th:text="${error}">Invalid data</p>
                    </div>
                </div>
                <div class="form-group">
                    <label th:for="email" th:text="#{registration.lable.email}">Email</label>
                    <input class="form-control item" type="email" th:field="*{email}"
                           th:classappend="${not #lists.isEmpty(#fields.errors('email'))} ? 'is-invalid'" required>
                    <div class="invalid-feedback">
                        <p th:each="error : ${#fields.errors('email')}" th:text="${error}">Invalid data</p>
                    </div>
                </div>
                <div class="form-group">
                    <label th:for="password" th:text="#{registration.lable.password}">Password</label>
                    <input class="form-control item" type="password" th:field="*{password}"
                           th:classappend="${not #lists.isEmpty(#fields.errors('password'))} ? 'is-invalid'" required>
                    <div class="invalid-feedback">
                        <ul th:each="error: ${#fields.errors('password')}">
                            <li th:each="message : ${error.split(',')}">
                                <p th:text="${message}">Invalid data</p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label th:for="matchingPassword" th:text="#{registration.lable.matchingPassword}">Password</label>
                    <input class="form-control item" type="password" th:field="*{matchingPassword}"
                           th:classappend="${not #lists.isEmpty(#fields.globalErrors())} ? 'is-invalid'" required>
                    <div class="invalid-feedback">
                        <p th:each="error : ${#fields.globalErrors()}" th:text="${error}">Invalid data</p>
                    </div>
                </div>
                <button class="btn btn-primary btn-block" type="submit" th:text="#{registration.button.reg}">Sign Up</button>
            </form>

        </div>
    </section>
</main>

<footer th:replace="fragments/footer::footer">Footer</footer>
<th:block th:replace="fragments/scripts::scripts">Scripts</th:block>
</body>
</html>